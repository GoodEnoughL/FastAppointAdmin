(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22dbc3"],{f982:function(e,t,n){"use strict";n.r(t);var c=n("2909"),o=(n("159b"),n("b0c0"),n("7a23")),r=n("3ef4"),a=n("c9a1"),l=n("7996"),i=n("4763"),u=n("f592"),d={class:"main-container"},b=Object(o["createTextVNode"])("添加 "),f=Object(o["createTextVNode"])("编辑"),s=Object(o["createTextVNode"])("删除"),O=Object(o["createTextVNode"])("菜单权限"),j=Object(o["defineComponent"])({setup:function(e){Object(o["reactive"])({id:0,name:"",roleCode:"",description:"",createTime:""});var t=Object(o["shallowReactive"])([]),n={children:"children",label:"menuName"},j=Object(o["shallowReactive"])([]),p=Object(o["shallowReactive"])([]),h=[{label:"角色名称",type:"input",name:"name",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色名称",validator:function(e){return!!e.value||(r["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色编号",type:"input",name:"roleCode",value:"",maxLength:20,inputType:"text",placeholder:"请输入角色编号",validator:function(e){return!!e.value||(r["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色描述",type:"input",name:"description",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色描述",validator:function(e){return!!e.value||(r["a"].error(e.placeholder),!1)},reset:function(){this.value=""}}],v=Object(o["ref"])(),m=Object(o["ref"])(),C=Object(o["ref"])(),w=Object(l["g"])(),x=Object(l["b"])(),g=x.handleSuccess,N=x.dataList,y=x.tableLoading,V=x.tableConfig;function k(){w({url:i["i"],data:{}}).then(g).catch(console.log)}function _(e){t.length=0,j.length=0,p.length=0,w({url:i["h"],data:{roleId:e.id}}).then((function(e){var n;console.log(e),t.push.apply(t,Object(c["a"])(e.data)),L(t),null===(n=v.value)||void 0===n||n.show((function(){var e;r["a"].success("模拟菜单修改成功"),null===(e=v.value)||void 0===e||e.close()}))})).catch(console.log)}function T(){var e;h.forEach((function(e){return e.reset&&e.reset()})),null===(e=m.value)||void 0===e||e.show((function(){var e,t;a["a"].confirm("角色模拟添加成功，参数为："+JSON.stringify(null===(e=C.value)||void 0===e?void 0:e.generatorParams())),null===(t=m.value)||void 0===t||t.close()}))}function R(e){var t;h.forEach((function(t){var n=t.name;if(n){var c=e[n];c&&(t.value=e[n])}})),null===(t=m.value)||void 0===t||t.show((function(){var e,t;a["a"].confirm("角色模拟修改成功，参数为："+JSON.stringify(null===(e=C.value)||void 0===e?void 0:e.generatorParams())),null===(t=m.value)||void 0===t||t.close()}))}function z(e){a["a"].confirm("是否要删除此信息，删除后不可恢复？","提示").then((function(){a["a"].confirm("角色模拟删除成功，参数为："+JSON.stringify({id:e.id}))}))}function L(e){e.forEach((function(e){j.push(e.menuUrl),e.children&&(p.push(e.menuUrl),L(e.children))}))}return Object(o["onMounted"])(k),function(e,c){var r=Object(o["resolveComponent"])("el-button"),a=Object(o["resolveComponent"])("TableHeader"),l=Object(o["resolveComponent"])("el-table-column"),i=Object(o["resolveComponent"])("el-table"),w=Object(o["resolveComponent"])("TableBody"),x=Object(o["resolveComponent"])("BaseForm"),g=Object(o["resolveComponent"])("Dialog"),k=Object(o["resolveComponent"])("el-tree"),L=Object(o["resolveDirective"])("loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[Object(o["createVNode"])(a,{"can-collapsed":!1},{right:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(r,{type:"primary",size:"mini",icon:Object(o["unref"])(u["a"]),onClick:T},{default:Object(o["withCtx"])((function(){return[b]})),_:1},8,["icon"])]})),_:1}),Object(o["createVNode"])(w,null,{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])(i,{data:Object(o["unref"])(N),"header-cell-style":Object(o["unref"])(V).headerCellStyle,size:Object(o["unref"])(V).size,stripe:Object(o["unref"])(V).stripe,border:Object(o["unref"])(V).border},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{align:"center",label:"序号",fixed:"left",width:"80"},{default:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$index+1),1)]})),_:1}),Object(o["createVNode"])(l,{align:"center",label:"角色名称",prop:"name"}),Object(o["createVNode"])(l,{align:"center",label:"角色编号",prop:"roleCode"}),Object(o["createVNode"])(l,{align:"center",label:"角色描述",prop:"description"}),Object(o["createVNode"])(l,{align:"center",label:"创建时间",prop:"createTime",width:"160px"}),Object(o["createVNode"])(l,{align:"center",label:"操作"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(r,{disabled:"ROLE_admin"===e.row.roleCode,type:"text",size:"mini",onClick:function(t){return R(e.row)}},{default:Object(o["withCtx"])((function(){return[f]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(r,{disabled:"ROLE_admin"===e.row.roleCode,type:"text",size:"mini",onClick:function(t){return z(e.row)}},{default:Object(o["withCtx"])((function(){return[s]})),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(r,{type:"text",size:"mini",onClick:function(t){return _(e.row)}},{default:Object(o["withCtx"])((function(){return[O]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","header-cell-style","size","stripe","border"]),[[L,Object(o["unref"])(y)]])]})),_:1}),Object(o["createVNode"])(g,{ref:function(e,t){t["dialogRef"]=e,m.value=e}},{content:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(x,{ref:function(e,t){t["baseFormRef"]=e,C.value=e},"form-items":h},null,512)]})),_:1},512),Object(o["createVNode"])(g,{ref:function(e,t){t["menuDialogRef"]=e,v.value=e},title:"菜单权限"},{content:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{data:Object(o["unref"])(t),"show-checkbox":"","node-key":"menuUrl","default-expanded-keys":Object(o["unref"])(p),"default-checked-keys":Object(o["unref"])(j),props:n},null,8,["data","default-expanded-keys","default-checked-keys"])]})),_:1},512)])}}});const p=j;t["default"]=p}}]);