(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22dbc3"],{f982:function(e,t,n){"use strict";n.r(t);var r=n("2909"),c=(n("159b"),n("b0c0"),n("7a23")),o=n("3ef4"),a=n("c9a1"),i=n("7996"),l=n("4763"),u={class:"main-container"},d=Object(c["createTextVNode"])("添加 "),b=Object(c["createTextVNode"])("编辑"),f=Object(c["createTextVNode"])("删除"),s=Object(c["createTextVNode"])("菜单权限"),O=Object(c["defineComponent"])({setup:function(e){Object(c["reactive"])({id:0,name:"",roleCode:"",description:"",createTime:""});var t=Object(c["shallowReactive"])([]),n={children:"children",label:"menuName"},O=Object(c["shallowReactive"])([]),j=Object(c["shallowReactive"])([]),p=Object(c["reactive"])([{label:"角色名称",type:"input",name:"name",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色名称",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色编号",type:"input",name:"roleCode",value:"",maxLength:20,inputType:"text",placeholder:"请输入角色编号",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色描述",type:"input",name:"description",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色描述",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}}]),h=Object(c["ref"])(),v=Object(c["ref"])(),m=Object(c["ref"])(),C=Object(c["ref"])(),w=Object(i["g"])(),g=Object(i["b"])(),x=g.handleSuccess,y=g.dataList,N=g.tableLoading,V=g.tableConfig;function k(){w({url:l["i"],data:{}}).then(x).catch(console.log)}function _(e){t.length=0,O.length=0,j.length=0,w({url:l["h"],data:{roleId:e.id}}).then((function(e){var n;t.push.apply(t,Object(r["a"])(e.data)),L(t),null===(n=h.value)||void 0===n||n.show((function(){var e;o["a"].success("模拟菜单修改成功，数据为："+JSON.stringify(C.value.getCheckedKeys())),null===(e=h.value)||void 0===e||e.close()}))})).catch(console.log)}function T(){var e;p.forEach((function(e){return e.reset&&e.reset()})),null===(e=v.value)||void 0===e||e.show((function(){var e,t;a["a"].confirm("角色模拟添加成功，参数为："+JSON.stringify(null===(e=m.value)||void 0===e?void 0:e.generatorParams())),null===(t=v.value)||void 0===t||t.close()}))}function R(e){var t;p.forEach((function(t){var n=t.name;if(n){var r=e[n];r&&(t.value=e[n])}})),null===(t=v.value)||void 0===t||t.show((function(){var e,t;a["a"].confirm("角色模拟修改成功，参数为："+JSON.stringify(null===(e=m.value)||void 0===e?void 0:e.generatorParams())),null===(t=v.value)||void 0===t||t.close()}))}function z(e){a["a"].confirm("是否要删除此信息，删除后不可恢复？","提示").then((function(){a["a"].confirm("角色模拟删除成功，参数为："+JSON.stringify({id:e.id}))}))}function L(e){e.forEach((function(e){O.push(e.menuUrl),e.children&&(j.push(e.menuUrl),L(e.children))}))}return Object(c["onMounted"])(k),function(e,r){var o=Object(c["resolveComponent"])("el-button"),a=Object(c["resolveComponent"])("TableConfig"),i=Object(c["resolveComponent"])("el-table-column"),l=Object(c["resolveComponent"])("el-table"),w=Object(c["resolveComponent"])("TableBody"),g=Object(c["resolveComponent"])("BaseForm"),x=Object(c["resolveComponent"])("Dialog"),L=Object(c["resolveComponent"])("el-tree"),S=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createVNode"])(w,null,{tableConfig:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{border:Object(c["unref"])(V).border,"onUpdate:border":r[0]||(r[0]=function(e){return Object(c["unref"])(V).border=e}),stripe:Object(c["unref"])(V).stripe,"onUpdate:stripe":r[1]||(r[1]=function(e){return Object(c["unref"])(V).stripe=e}),onRefresh:k},{actions:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{type:"primary",size:"mini",icon:"PlusIcon",onClick:T},{default:Object(c["withCtx"])((function(){return[d]})),_:1})]})),_:1},8,["border","stripe"])]})),default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createVNode"])(l,{data:Object(c["unref"])(y),"header-cell-style":Object(c["unref"])(V).headerCellStyle,size:Object(c["unref"])(V).size,stripe:Object(c["unref"])(V).stripe,border:Object(c["unref"])(V).border},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(i,{align:"center",label:"序号",fixed:"left",width:"80"},{default:Object(c["withCtx"])((function(e){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$index+1),1)]})),_:1}),Object(c["createVNode"])(i,{align:"center",label:"角色名称",prop:"name"}),Object(c["createVNode"])(i,{align:"center",label:"角色编号",prop:"roleCode"}),Object(c["createVNode"])(i,{align:"center",label:"角色描述",prop:"description"}),Object(c["createVNode"])(i,{align:"center",label:"创建时间",prop:"createTime"}),Object(c["createVNode"])(i,{align:"center",label:"操作",width:"300px"},{default:Object(c["withCtx"])((function(e){return[Object(c["createVNode"])(o,{disabled:"ROLE_admin"===e.row.roleCode,plain:"",type:"primary",size:"mini",onClick:function(t){return R(e.row)}},{default:Object(c["withCtx"])((function(){return[b]})),_:2},1032,["disabled","onClick"]),Object(c["createVNode"])(o,{disabled:"ROLE_admin"===e.row.roleCode,plain:"",type:"danger",size:"mini",onClick:function(t){return z(e.row)}},{default:Object(c["withCtx"])((function(){return[f]})),_:2},1032,["disabled","onClick"]),Object(c["createVNode"])(o,{plain:"",type:"warning",size:"mini",onClick:function(t){return _(e.row)}},{default:Object(c["withCtx"])((function(){return[s]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","header-cell-style","size","stripe","border"]),[[S,Object(c["unref"])(N)]])]})),_:1}),Object(c["createVNode"])(x,{ref:function(e,t){t["dialogRef"]=e,v.value=e}},{content:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(g,{ref:function(e,t){t["baseFormRef"]=e,m.value=e},"form-items":Object(c["unref"])(p)},null,8,["form-items"])]})),_:1},512),Object(c["createVNode"])(x,{ref:function(e,t){t["menuDialogRef"]=e,h.value=e},title:"菜单权限"},{content:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(L,{ref:function(e,t){t["tree"]=e,C.value=e},data:Object(c["unref"])(t),"show-checkbox":"","node-key":"menuUrl","default-expanded-keys":Object(c["unref"])(j),"default-checked-keys":Object(c["unref"])(O),props:n},null,8,["data","default-expanded-keys","default-checked-keys"])]})),_:1},512)])}}});const j=O;t["default"]=j}}]);