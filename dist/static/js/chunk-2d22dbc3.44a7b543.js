(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22dbc3"],{f982:function(e,t,n){"use strict";n.r(t);var c=n("2909"),r=(n("159b"),n("b0c0"),n("7a23")),o=n("3ef4"),a=n("c9a1"),l=n("7996"),i=n("4763"),u=n("f592"),d={class:"main-container"},b=Object(r["createTextVNode"])("添加 "),f=Object(r["createTextVNode"])("编辑"),s=Object(r["createTextVNode"])("删除"),O=Object(r["createTextVNode"])("菜单权限"),j=Object(r["defineComponent"])({setup:function(e){Object(r["reactive"])({id:0,name:"",roleCode:"",description:"",createTime:""});var t=Object(r["shallowReactive"])([]),n={children:"children",label:"menuName"},j=Object(r["shallowReactive"])([]),p=Object(r["shallowReactive"])([]),h=[{label:"角色名称",type:"input",name:"name",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色名称",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色编号",type:"input",name:"roleCode",value:"",maxLength:20,inputType:"text",placeholder:"请输入角色编号",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}},{label:"角色描述",type:"input",name:"description",value:"",maxLength:50,inputType:"text",placeholder:"请输入角色描述",validator:function(e){return!!e.value||(o["a"].error(e.placeholder),!1)},reset:function(){this.value=""}}],v=Object(r["ref"])(),m=Object(r["ref"])(),C=Object(r["ref"])(),w=Object(r["ref"])(),x=Object(l["g"])(),g=Object(l["b"])(),y=g.handleSuccess,N=g.dataList,V=g.tableLoading,k=g.tableConfig;function _(){x({url:i["i"],data:{}}).then(y).catch(console.log)}function T(e){t.length=0,j.length=0,p.length=0,x({url:i["h"],data:{roleId:e.id}}).then((function(e){var n;t.push.apply(t,Object(c["a"])(e.data)),S(t),null===(n=v.value)||void 0===n||n.show((function(){var e;o["a"].success("模拟菜单修改成功，数据为："+JSON.stringify(w.value.getCheckedKeys())),null===(e=v.value)||void 0===e||e.close()}))})).catch(console.log)}function R(){var e;h.forEach((function(e){return e.reset&&e.reset()})),null===(e=m.value)||void 0===e||e.show((function(){var e,t;a["a"].confirm("角色模拟添加成功，参数为："+JSON.stringify(null===(e=C.value)||void 0===e?void 0:e.generatorParams())),null===(t=m.value)||void 0===t||t.close()}))}function z(e){var t;h.forEach((function(t){var n=t.name;if(n){var c=e[n];c&&(t.value=e[n])}})),null===(t=m.value)||void 0===t||t.show((function(){var e,t;a["a"].confirm("角色模拟修改成功，参数为："+JSON.stringify(null===(e=C.value)||void 0===e?void 0:e.generatorParams())),null===(t=m.value)||void 0===t||t.close()}))}function L(e){a["a"].confirm("是否要删除此信息，删除后不可恢复？","提示").then((function(){a["a"].confirm("角色模拟删除成功，参数为："+JSON.stringify({id:e.id}))}))}function S(e){e.forEach((function(e){j.push(e.menuUrl),e.children&&(p.push(e.menuUrl),S(e.children))}))}return Object(r["onMounted"])(_),function(e,c){var o=Object(r["resolveComponent"])("el-button"),a=Object(r["resolveComponent"])("TableHeader"),l=Object(r["resolveComponent"])("el-table-column"),i=Object(r["resolveComponent"])("el-table"),x=Object(r["resolveComponent"])("TableBody"),g=Object(r["resolveComponent"])("BaseForm"),y=Object(r["resolveComponent"])("Dialog"),_=Object(r["resolveComponent"])("el-tree"),S=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",d,[Object(r["createVNode"])(a,{"can-collapsed":!1},{right:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(o,{type:"primary",size:"mini",icon:Object(r["unref"])(u["a"]),onClick:R},{default:Object(r["withCtx"])((function(){return[b]})),_:1},8,["icon"])]})),_:1}),Object(r["createVNode"])(x,null,{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])(i,{data:Object(r["unref"])(N),"header-cell-style":Object(r["unref"])(k).headerCellStyle,size:Object(r["unref"])(k).size,stripe:Object(r["unref"])(k).stripe,border:Object(r["unref"])(k).border},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{align:"center",label:"序号",fixed:"left",width:"80"},{default:Object(r["withCtx"])((function(e){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.$index+1),1)]})),_:1}),Object(r["createVNode"])(l,{align:"center",label:"角色名称",prop:"name"}),Object(r["createVNode"])(l,{align:"center",label:"角色编号",prop:"roleCode"}),Object(r["createVNode"])(l,{align:"center",label:"角色描述",prop:"description"}),Object(r["createVNode"])(l,{align:"center",label:"创建时间",prop:"createTime",width:"160px"}),Object(r["createVNode"])(l,{align:"center",label:"操作"},{default:Object(r["withCtx"])((function(e){return[Object(r["createVNode"])(o,{disabled:"ROLE_admin"===e.row.roleCode,type:"text",size:"mini",onClick:function(t){return z(e.row)}},{default:Object(r["withCtx"])((function(){return[f]})),_:2},1032,["disabled","onClick"]),Object(r["createVNode"])(o,{disabled:"ROLE_admin"===e.row.roleCode,type:"text",size:"mini",onClick:function(t){return L(e.row)}},{default:Object(r["withCtx"])((function(){return[s]})),_:2},1032,["disabled","onClick"]),Object(r["createVNode"])(o,{type:"text",size:"mini",onClick:function(t){return T(e.row)}},{default:Object(r["withCtx"])((function(){return[O]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","header-cell-style","size","stripe","border"]),[[S,Object(r["unref"])(V)]])]})),_:1}),Object(r["createVNode"])(y,{ref:function(e,t){t["dialogRef"]=e,m.value=e}},{content:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{ref:function(e,t){t["baseFormRef"]=e,C.value=e},"form-items":h},null,512)]})),_:1},512),Object(r["createVNode"])(y,{ref:function(e,t){t["menuDialogRef"]=e,v.value=e},title:"菜单权限"},{content:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(_,{ref:function(e,t){t["tree"]=e,w.value=e},data:Object(r["unref"])(t),"show-checkbox":"","node-key":"menuUrl","default-expanded-keys":Object(r["unref"])(p),"default-checked-keys":Object(r["unref"])(j),props:n},null,8,["data","default-expanded-keys","default-checked-keys"])]})),_:1},512)])}}});const p=j;t["default"]=p}}]);